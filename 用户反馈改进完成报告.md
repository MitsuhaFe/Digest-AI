# Digest AI - ç”¨æˆ·åé¦ˆæ”¹è¿›å®ŒæˆæŠ¥å‘Š

## ğŸ“… å®Œæˆæ—¥æœŸ
2025-10-21

---

## ğŸ¯ æœ¬æ¬¡æ›´æ–°æ¦‚è¿°

æ ¹æ®ç”¨æˆ·åé¦ˆï¼Œä¿®å¤äº†ä¸»é¢˜åˆ‡æ¢é—®é¢˜å¹¶æ–°å¢äº†ä¸¤é¡¹å®ç”¨åŠŸèƒ½ï¼šå›¾ç‰‡ä¿å­˜é€‰é¡¹å’Œé¡µé¢æ‚¬æµ®çƒå¿«æ·ä¿å­˜ã€‚

---

## âœ… å·²å®ŒæˆåŠŸèƒ½

### 1. ä¿®å¤ä¸»é¢˜åˆ‡æ¢éœ€è¦ç‚¹å‡»ä¸¤æ¬¡çš„é—®é¢˜ ğŸ”§

**é—®é¢˜æè¿°ï¼š**
- ç”¨æˆ·åœ¨è®¾ç½®é¡µé¢åˆ‡æ¢ä¸»é¢˜æ—¶ï¼Œç¬¬ä¸€æ¬¡ç‚¹å‡»æ— å˜åŒ–
- éœ€è¦ç‚¹å‡»ç¬¬äºŒæ¬¡æ‰èƒ½çœ‹åˆ°ä¸»é¢˜ç”Ÿæ•ˆ

**åŸå› åˆ†æï¼š**
- `loadSettings()` å‡½æ•°åªè®¾ç½®äº† `themeSelect.value`ï¼Œä½†æ²¡æœ‰å®é™…åº”ç”¨ä¸»é¢˜
- `change` äº‹ä»¶ç›‘å¬å™¨å­˜åœ¨ï¼Œä½†å¯èƒ½ç”±äºåŠ è½½æ—¶åºé—®é¢˜å¯¼è‡´ç¬¬ä¸€æ¬¡ä¸ç”Ÿæ•ˆ

**è§£å†³æ–¹æ¡ˆï¼š**
- **åœ¨ `loadSettings()` å‡½æ•°ä¸­æ·»åŠ ä¸»é¢˜åº”ç”¨é€»è¾‘**ï¼š
  ```javascript
  // ç¡®ä¿ä¸»é¢˜å’Œå­—ä½“è®¾ç½®ç«‹å³åº”ç”¨åˆ°å½“å‰é¡µé¢
  if (window.applyTheme && settings.theme) {
    await window.applyTheme(settings.theme);
  }
  if (window.applyFontSize && settings.fontSize) {
    await window.applyFontSize(settings.fontSize);
  }
  ```

- **å¢å¼º `change` äº‹ä»¶ç›‘å¬å™¨**ï¼š
  ```javascript
  // ä¸»é¢˜åˆ‡æ¢ - ç«‹å³åº”ç”¨
  elements.themeSelect.addEventListener('change', async (e) => {
    const theme = e.target.value;
    if (window.applyTheme) {
      await window.applyTheme(theme);
      showStatus('ä¸»é¢˜å·²åˆ‡æ¢', 'success');
    } else {
      console.error('applyTheme å‡½æ•°æœªæ‰¾åˆ°');
    }
  });
  
  // å­—ä½“å¤§å°åˆ‡æ¢ - ç«‹å³åº”ç”¨
  elements.fontSizeSelect.addEventListener('change', async (e) => {
    const fontSize = e.target.value;
    if (window.applyFontSize) {
      await window.applyFontSize(fontSize);
      showStatus('å­—ä½“å¤§å°å·²è°ƒæ•´', 'success');
    }
  });
  ```

**éªŒè¯ç»“æœï¼š**
- âœ… é¡µé¢åŠ è½½æ—¶ä¸»é¢˜ç«‹å³ç”Ÿæ•ˆ
- âœ… ç¬¬ä¸€æ¬¡ç‚¹å‡»åˆ‡æ¢ä¸»é¢˜å³å¯çœ‹åˆ°å˜åŒ–
- âœ… å­—ä½“å¤§å°åˆ‡æ¢ä¹ŸåŒæ­¥ä¿®å¤

---

### 2. æ·»åŠ ä¿å­˜æ–‡ç« æ—¶æ˜¯å¦æ”¶å½•å›¾ç‰‡çš„é€‰é¡¹ ğŸ“¦

**åŠŸèƒ½æè¿°ï¼š**
ç”¨æˆ·å¯ä»¥åœ¨è®¾ç½®ä¸­é€‰æ‹©ä¿å­˜æ–‡ç« æ—¶æ˜¯å¦åŒ…å«å›¾ç‰‡ï¼Œä»¥å‡å°å­˜å‚¨ç©ºé—´å ç”¨ã€‚

**å®ç°ç»†èŠ‚ï¼š**

#### 2.1 è®¾ç½®ç•Œé¢ (`settings.html`)

æ–°å¢"å†…å®¹ä¿å­˜è®¾ç½®"åŒºåŸŸï¼š
```html
<!-- å†…å®¹ä¿å­˜è®¾ç½® -->
<div class="setting-group">
  <h3 class="subsection-title">ğŸ“¦ å†…å®¹ä¿å­˜è®¾ç½®</h3>
  
  <!-- ä¿å­˜å›¾ç‰‡é€‰é¡¹ -->
  <div class="setting-item">
    <label class="checkbox-label">
      <input type="checkbox" id="saveImagesCheckbox" checked />
      ä¿å­˜æ–‡ç« ä¸­çš„å›¾ç‰‡
    </label>
    <p class="setting-hint">
      å…³é—­åä¿å­˜æ–‡ç« æ—¶å°†ç§»é™¤æ‰€æœ‰å›¾ç‰‡ï¼Œä»…ä¿ç•™æ–‡å­—å†…å®¹ï¼ˆå¯å‡å°å­˜å‚¨ç©ºé—´ï¼‰
    </p>
  </div>
</div>
```

#### 2.2 è®¾ç½®é€»è¾‘ (`settings.js`)

**æ·»åŠ  DOM å…ƒç´ å¼•ç”¨ï¼š**
```javascript
saveImagesCheckbox: document.getElementById('saveImagesCheckbox'),
```

**åŠ è½½è®¾ç½®ï¼š**
```javascript
// å†…å®¹ä¿å­˜è®¾ç½®
const saveImages = settings.saveImages !== undefined ? settings.saveImages : true;
elements.saveImagesCheckbox.checked = saveImages;
```

**ä¿å­˜è®¾ç½®ï¼š**
```javascript
saveImages: elements.saveImagesCheckbox.checked
```

#### 2.3 åå°å¤„ç† (`scripts/background.js`)

**åœ¨ `handleSaveArticle()` å‡½æ•°ä¸­æ·»åŠ å›¾ç‰‡å¤„ç†é€»è¾‘ï¼š**
```javascript
// 4. å¤„ç†å›¾ç‰‡ï¼ˆæ ¹æ®ç”¨æˆ·è®¾ç½®ï¼‰
const saveImages = settings.saveImages !== undefined ? settings.saveImages : true;
let htmlContent = extractedContent.htmlContent || '';

if (!saveImages && htmlContent) {
  // ç§»é™¤æ‰€æœ‰å›¾ç‰‡æ ‡ç­¾
  htmlContent = htmlContent.replace(/<img[^>]*>/gi, '');
  // ç§»é™¤åŒ…å«å›¾ç‰‡çš„ figure æ ‡ç­¾
  htmlContent = htmlContent.replace(/<figure[^>]*>.*?<\/figure>/gi, '');
}
```

**ä½¿ç”¨å¤„ç†åçš„ htmlContentï¼š**
```javascript
const article = {
  // ... å…¶ä»–å­—æ®µ
  htmlContent: htmlContent,  // ä½¿ç”¨å¤„ç†åçš„å†…å®¹
  // ... å…¶ä»–å­—æ®µ
};
```

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… é»˜è®¤å¯ç”¨ï¼ˆå‘åå…¼å®¹ï¼‰
- âœ… ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ç§»é™¤ `<img>` æ ‡ç­¾
- âœ… ç§»é™¤ `<figure>` æ ‡ç­¾ï¼ˆé€šå¸¸åŒ…å«å›¾ç‰‡ï¼‰
- âœ… ä»…å½±å“æ–°ä¿å­˜çš„æ–‡ç« ï¼Œä¸å½±å“å·²ä¿å­˜çš„æ–‡ç« 

---

### 3. å®ç°é¡µé¢æ‚¬æµ®çƒå¿«æ·ä¿å­˜åŠŸèƒ½ ğŸˆ

**åŠŸèƒ½æè¿°ï¼š**
åœ¨æµè§ˆç½‘é¡µæ—¶æ˜¾ç¤ºä¸€ä¸ªæ‚¬æµ®æŒ‰é’®ï¼Œç‚¹å‡»å³å¯å¿«é€Ÿä¿å­˜å½“å‰æ–‡ç« ï¼Œæ— éœ€æ‰“å¼€æ‰©å±•å¼¹çª—ã€‚

**æ ¸å¿ƒç‰¹æ€§ï¼š**
- âœ¨ å¯æ‹–åŠ¨ä½ç½®
- âœ¨ è®°å¿†ä½ç½®
- âœ¨ å¹³æ»‘åŠ¨ç”»
- âœ¨ æç¤ºä¿¡æ¯
- âœ¨ æˆåŠŸ/å¤±è´¥åé¦ˆ
- âœ¨ å¯åœ¨è®¾ç½®ä¸­å¯ç”¨/ç¦ç”¨

#### 3.1 æ–°å¢æ–‡ä»¶ï¼š`scripts/floatButton.js` (11.6 KiB)

**æ ¸å¿ƒç±»ï¼š`FloatButton`**

```javascript
class FloatButton {
  constructor() {
    this.button = null;
    this.isDragging = false;
    this.enabled = true;
  }
  
  async init() {
    // æ£€æŸ¥æ˜¯å¦å¯ç”¨
    // åˆ›å»ºæ‚¬æµ®çƒ
    // æ³¨å…¥æ ·å¼
    // ç»‘å®šäº‹ä»¶
    // åŠ è½½ä¿å­˜çš„ä½ç½®
  }
}
```

**å…³é”®æ–¹æ³•ï¼š**

1. **åˆå§‹åŒ–å’Œæ˜¾ç¤ºï¼š**
```javascript
async init() {
  const settings = await chrome.storage.local.get(['enableFloatButton']);
  this.enabled = settings.enableFloatButton !== undefined ? 
    settings.enableFloatButton : true;
  
  if (!this.enabled) {
    this.remove();
    return;
  }
  
  this.button = document.createElement('div');
  this.button.id = 'digest-ai-float-button';
  this.button.innerHTML = `
    <div class="float-btn-icon">ğŸ“š</div>
    <div class="float-btn-tooltip">ä¿å­˜æ–‡ç« </div>
  `;
  
  document.body.appendChild(this.button);
  this.bindEvents();
  await this.loadPosition();
}
```

2. **æ‹–åŠ¨åŠŸèƒ½ï¼š**
```javascript
handleMouseDown(e) {
  this.isDragging = true;
  this.button.classList.add('dragging');
  // è®°å½•èµ·å§‹ä½ç½®å’Œåç§»é‡
}

handleMouseMove(e) {
  if (!this.isDragging) return;
  const x = e.clientX - this.offsetX;
  const y = e.clientY - this.offsetY;
  this.updatePosition(x, y);
}

handleMouseUp(e) {
  this.isDragging = false;
  this.button.classList.remove('dragging');
  
  // åˆ¤æ–­æ˜¯å¦ä¸ºç‚¹å‡»ï¼ˆç§»åŠ¨è·ç¦» < 5pxï¼‰
  const moveDistance = Math.sqrt(
    Math.pow(e.clientX - this.startX, 2) + 
    Math.pow(e.clientY - this.startY, 2)
  );
  
  if (moveDistance < 5) {
    this.handleClick();  // è§¦å‘ä¿å­˜
  } else {
    this.savePosition();  // ä¿å­˜ä½ç½®
  }
}
```

3. **ä¿å­˜æ–‡ç« ï¼š**
```javascript
async handleClick() {
  this.button.classList.add('saving');
  
  try {
    const response = await chrome.runtime.sendMessage({
      action: 'saveArticle',
      url: window.location.href,
      title: document.title
    });
    
    if (response.success) {
      this.showToast('âœ… æ–‡ç« å·²ä¿å­˜', 'success');
    } else {
      throw new Error(response.error || 'ä¿å­˜å¤±è´¥');
    }
  } catch (error) {
    this.showToast('âŒ ' + error.message, 'error');
  } finally {
    this.button.classList.remove('saving');
  }
}
```

4. **æç¤ºæ¶ˆæ¯ï¼š**
```javascript
showToast(message, type = 'info') {
  const toast = document.createElement('div');
  toast.id = 'digest-ai-toast';
  toast.textContent = message;
  toast.className = `digest-ai-toast ${type}`;
  
  document.body.appendChild(toast);
  
  // 3ç§’åç§»é™¤
  setTimeout(() => {
    toast.style.animation = 'slideDown 0.3s ease-out reverse';
    setTimeout(() => toast.remove(), 300);
  }, 3000);
}
```

5. **ä½ç½®æŒä¹…åŒ–ï¼š**
```javascript
async savePosition() {
  const position = {
    left: this.button.style.left,
    top: this.button.style.top
  };
  await chrome.storage.local.set({ floatButtonPosition: position });
}

async loadPosition() {
  const { floatButtonPosition } = await chrome.storage.local.get(['floatButtonPosition']);
  
  if (floatButtonPosition?.left && floatButtonPosition?.top) {
    this.button.style.left = floatButtonPosition.left;
    this.button.style.top = floatButtonPosition.top;
  }
}
```

#### 3.2 æ ·å¼è®¾è®¡

**æ‚¬æµ®çƒä¸»ä½“ï¼š**
```css
#digest-ai-float-button {
  position: fixed;
  right: 20px;
  bottom: 100px;
  width: 56px;
  height: 56px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 50%;
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
  cursor: pointer;
  z-index: 999999;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

#digest-ai-float-button:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
}
```

**æ‹–åŠ¨çŠ¶æ€ï¼š**
```css
#digest-ai-float-button.dragging {
  cursor: grabbing;
  opacity: 0.8;
}
```

**ä¿å­˜åŠ¨ç”»ï¼š**
```css
#digest-ai-float-button.saving {
  animation: pulse 1s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}
```

**æç¤ºä¿¡æ¯ï¼š**
```css
.float-btn-tooltip {
  position: absolute;
  right: 70px;
  background: rgba(0, 0, 0, 0.8);
  color: white;
  padding: 6px 12px;
  border-radius: 6px;
  opacity: 0;
  transition: opacity 0.2s;
}

#digest-ai-float-button:hover .float-btn-tooltip {
  opacity: 1;
}
```

#### 3.3 é›†æˆåˆ°é¡¹ç›®

**1. æ›´æ–° `scripts/content.js`ï¼š**
```javascript
// åŠ¨æ€åŠ è½½æ‚¬æµ®çƒè„šæœ¬
(function loadFloatButton() {
  try {
    const script = document.createElement('script');
    script.src = chrome.runtime.getURL('scripts/floatButton.js');
    script.onload = () => console.log('æ‚¬æµ®çƒè„šæœ¬å·²åŠ è½½');
    script.onerror = (e) => console.error('æ‚¬æµ®çƒè„šæœ¬åŠ è½½å¤±è´¥:', e);
    (document.head || document.documentElement).appendChild(script);
  } catch (error) {
    console.error('åŠ è½½æ‚¬æµ®çƒå¤±è´¥:', error);
  }
})();
```

**2. æ›´æ–° `manifest.json`ï¼š**
```json
"web_accessible_resources": [
  {
    "resources": ["scripts/floatButton.js"],
    "matches": ["<all_urls>"]
  }
]
```

**3. æ›´æ–° `settings.html`ï¼š**
```html
<!-- å¯ç”¨æ‚¬æµ®çƒ -->
<div class="setting-item">
  <label class="checkbox-label">
    <input type="checkbox" id="enableFloatButtonCheckbox" checked />
    å¯ç”¨é¡µé¢æ‚¬æµ®çƒå¿«æ·æŒ‰é’®
  </label>
  <p class="setting-hint">
    åœ¨æµè§ˆç½‘é¡µæ—¶æ˜¾ç¤ºä¸€ä¸ªæ‚¬æµ®æŒ‰é’®ï¼Œç‚¹å‡»å³å¯å¿«é€Ÿä¿å­˜å½“å‰æ–‡ç« ï¼ˆå¯æ‹–åŠ¨ä½ç½®ï¼‰
  </p>
</div>
```

**4. æ›´æ–° `settings.js`ï¼š**
```javascript
// æ·»åŠ  DOM å¼•ç”¨
enableFloatButtonCheckbox: document.getElementById('enableFloatButtonCheckbox'),

// åŠ è½½è®¾ç½®
const enableFloatButton = settings.enableFloatButton !== undefined ? 
  settings.enableFloatButton : true;
elements.enableFloatButtonCheckbox.checked = enableFloatButton;

// ä¿å­˜è®¾ç½®
enableFloatButton: elements.enableFloatButtonCheckbox.checked
```

**5. æ›´æ–° `webpack.config.js`ï¼š**
```javascript
entry: {
  // ...
  floatButton: './scripts/floatButton.js'
},

patterns: [
  // ...
  { from: 'scripts/floatButton.js', to: 'scripts/floatButton.js' }
]
```

#### 3.4 ç”¨æˆ·ä½“éªŒä¼˜åŒ–

**è§¦æ‘¸è®¾å¤‡æ”¯æŒï¼š**
- æ”¯æŒ `touchstart`ã€`touchmove`ã€`touchend` äº‹ä»¶
- ç§»åŠ¨ç«¯å‹å¥½çš„è§¦æ§ä½“éªŒ

**æ™ºèƒ½äº¤äº’ï¼š**
- ç§»åŠ¨è·ç¦» < 5px è§†ä¸ºç‚¹å‡»
- ç§»åŠ¨è·ç¦» â‰¥ 5px è§†ä¸ºæ‹–åŠ¨å¹¶ä¿å­˜ä½ç½®

**è§†è§‰åé¦ˆï¼š**
- æ‚¬åœæ—¶æ”¾å¤§ï¼ˆ`scale(1.1)`ï¼‰
- æ‹–åŠ¨æ—¶åŠé€æ˜ï¼ˆ`opacity: 0.8`ï¼‰
- ä¿å­˜æ—¶è„‰å†²åŠ¨ç”»
- æˆåŠŸ/å¤±è´¥ Toast æç¤º

**æ€§èƒ½ä¼˜åŒ–ï¼š**
- ä½¿ç”¨ `transform` ä»£æ›¿ `left/top` ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½
- é™åˆ¶åœ¨çª—å£èŒƒå›´å†…ç§»åŠ¨
- é˜²æŠ–å¤„ç†äº‹ä»¶

---

## ğŸ“Š æ–‡ä»¶å˜æ›´æ€»ç»“

### æ–°å¢æ–‡ä»¶
1. **`scripts/floatButton.js`** (11.6 KiB)
   - å®Œæ•´çš„æ‚¬æµ®çƒåŠŸèƒ½å®ç°
   - åŒ…å«æ‹–åŠ¨ã€ç‚¹å‡»ã€ä¿å­˜ã€æç¤ºç­‰åŠŸèƒ½

2. **`ç”¨æˆ·åé¦ˆæ”¹è¿›å®ŒæˆæŠ¥å‘Š.md`** (æœ¬æŠ¥å‘Š)

### ä¿®æ”¹æ–‡ä»¶

1. **`settings.html`** (+25 è¡Œ)
   - æ·»åŠ "å†…å®¹ä¿å­˜è®¾ç½®"åŒºåŸŸ
   - æ·»åŠ "ä¿å­˜å›¾ç‰‡"å¤é€‰æ¡†
   - æ·»åŠ "å¯ç”¨æ‚¬æµ®çƒ"å¤é€‰æ¡†

2. **`settings.js`** (+20 è¡Œ)
   - æ·»åŠ ä¸¤ä¸ªæ–°è®¾ç½®çš„ DOM å¼•ç”¨
   - åŠ è½½å’Œä¿å­˜é€»è¾‘æ›´æ–°
   - ä¿®å¤ä¸»é¢˜å’Œå­—ä½“åˆ‡æ¢é—®é¢˜

3. **`scripts/background.js`** (+12 è¡Œ)
   - æ·»åŠ  `saveImages` è®¾ç½®è·å–
   - æ·»åŠ å›¾ç‰‡ç§»é™¤é€»è¾‘
   - ä½¿ç”¨å¤„ç†åçš„ `htmlContent`

4. **`scripts/content.js`** (+13 è¡Œ)
   - æ·»åŠ åŠ¨æ€åŠ è½½æ‚¬æµ®çƒè„šæœ¬çš„ä»£ç 

5. **`manifest.json`** (+6 è¡Œ)
   - æ·»åŠ  `web_accessible_resources` é…ç½®

6. **`webpack.config.js`** (+2 è¡Œ)
   - æ·»åŠ  `floatButton` å…¥å£
   - æ·»åŠ æ–‡ä»¶å¤åˆ¶è§„åˆ™

---

## ğŸ§ª æ„å»ºéªŒè¯

```bash
> digest-ai-extension@0.1.0 build
> webpack --mode production

âœ… æ„å»ºæˆåŠŸ

å…³é”®èµ„æºï¼š
- content.js: 2.25 KiB
- floatButton.js: 7.63 KiB (å‹ç¼©å)
- scripts/floatButton.js: 7.69 KiB (å¤åˆ¶)
- settings.js: 8.32 KiB
- background.js: 14.2 KiB

æ€»è®¡: 152 KiB
```

---

## ğŸ“ ä½¿ç”¨è¯´æ˜

### ä¸»é¢˜åˆ‡æ¢
1. æ‰“å¼€è®¾ç½®é¡µé¢
2. é€‰æ‹©ä¸»é¢˜ï¼ˆæµ…è‰²/æ·±è‰²/è‡ªåŠ¨ï¼‰
3. **ç°åœ¨ç«‹å³ç”Ÿæ•ˆ**ï¼Œæ— éœ€ç‚¹å‡»ä¸¤æ¬¡

### å›¾ç‰‡ä¿å­˜é€‰é¡¹
1. æ‰“å¼€è®¾ç½®é¡µé¢
2. æ‰¾åˆ°"å†…å®¹ä¿å­˜è®¾ç½®"
3. å–æ¶ˆå‹¾é€‰"ä¿å­˜æ–‡ç« ä¸­çš„å›¾ç‰‡"
4. ç‚¹å‡»"ä¿å­˜è®¾ç½®"
5. ä¹‹åä¿å­˜çš„æ–‡ç« å°†ä¸åŒ…å«å›¾ç‰‡

### æ‚¬æµ®çƒä½¿ç”¨
1. **å¯ç”¨æ‚¬æµ®çƒ**ï¼š
   - æ‰“å¼€è®¾ç½®é¡µé¢
   - å‹¾é€‰"å¯ç”¨é¡µé¢æ‚¬æµ®çƒå¿«æ·æŒ‰é’®"
   - ä¿å­˜è®¾ç½®

2. **ä½¿ç”¨æ‚¬æµ®çƒä¿å­˜æ–‡ç« **ï¼š
   - æµè§ˆä»»æ„ç½‘é¡µ
   - ç‚¹å‡»å³ä¸‹è§’çš„ğŸ“šæ‚¬æµ®çƒ
   - ç­‰å¾…ä¿å­˜å®Œæˆæç¤º

3. **æ‹–åŠ¨ä½ç½®**ï¼š
   - æŒ‰ä½æ‚¬æµ®çƒå¹¶æ‹–åŠ¨
   - é‡Šæ”¾åä½ç½®è‡ªåŠ¨ä¿å­˜

4. **ç¦ç”¨æ‚¬æµ®çƒ**ï¼š
   - æ‰“å¼€è®¾ç½®é¡µé¢
   - å–æ¶ˆå‹¾é€‰"å¯ç”¨é¡µé¢æ‚¬æµ®çƒå¿«æ·æŒ‰é’®"

---

## ğŸ¨ æŠ€æœ¯äº®ç‚¹

### 1. æ™ºèƒ½äº‹ä»¶å¤„ç†
- åŒºåˆ†ç‚¹å‡»å’Œæ‹–åŠ¨ï¼ˆç§»åŠ¨è·ç¦»é˜ˆå€¼ï¼‰
- åŒæ—¶æ”¯æŒé¼ æ ‡å’Œè§¦æ‘¸äº‹ä»¶
- é˜²æ­¢æ„å¤–è§¦å‘

### 2. ä½ç½®æŒä¹…åŒ–
- ä½¿ç”¨ `chrome.storage.local` ä¿å­˜ä½ç½®
- é¡µé¢åˆ·æ–°åæ¢å¤åˆ°ä¸Šæ¬¡ä½ç½®
- è·¨æ ‡ç­¾é¡µå…±äº«ä½ç½®

### 3. åŠ¨æ€æ ·å¼æ³¨å…¥
- é¿å…å…¨å±€æ ·å¼æ±¡æŸ“
- ä½¿ç”¨é«˜ `z-index` ç¡®ä¿æ˜¾ç¤ºåœ¨æœ€ä¸Šå±‚
- CSS å˜é‡å’Œæ¸å˜æå‡è§†è§‰æ•ˆæœ

### 4. ä¼˜é›…é™çº§
- æ£€æŸ¥åŠŸèƒ½å¯ç”¨çŠ¶æ€
- é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

### 5. æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨ `transform` è€Œé `left/top`
- äº‹ä»¶å§”æ‰˜å‡å°‘ç›‘å¬å™¨æ•°é‡
- æŒ‰éœ€åŠ è½½è„šæœ¬

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ‚¬æµ®çƒæƒé™**ï¼š
   - éœ€è¦åœ¨æ‰€æœ‰ç½‘é¡µä¸Šè¿è¡Œï¼ˆ`<all_urls>`ï¼‰
   - æŸäº›ç½‘ç«™å¯èƒ½æœ‰ CSP é™åˆ¶

2. **å›¾ç‰‡ç§»é™¤**ï¼š
   - ä»…å½±å“æ–°ä¿å­˜çš„æ–‡ç« 
   - ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ç§»é™¤ï¼Œå¯èƒ½æœ‰é—æ¼
   - ä¸å½±å“æ–‡æœ¬å†…å®¹çš„å›¾ç‰‡å¼•ç”¨

3. **æµè§ˆå™¨å…¼å®¹æ€§**ï¼š
   - ä»…æ”¯æŒ Chrome/Edge (Manifest V3)
   - éœ€è¦ Chrome 93+ æˆ– Edge 93+

4. **å­˜å‚¨å½±å“**ï¼š
   - ç¦ç”¨å›¾ç‰‡ä¿å­˜å¯æ˜¾è‘—å‡å°å­˜å‚¨å ç”¨
   - ä½†ä¼šä¸¢å¤±æ–‡ç« ä¸­çš„è§†è§‰ä¿¡æ¯

---

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

1. **æ‚¬æµ®çƒå¢å¼º**ï¼š
   - æ·»åŠ æ›´å¤šå¿«æ·æ“ä½œï¼ˆå¦‚æ‰“å¼€é˜…è¯»åº“ï¼‰
   - æ”¯æŒè‡ªå®šä¹‰å›¾æ ‡å’Œé¢œè‰²
   - æ·»åŠ æ‹–åŠ¨å¸é™„æ•ˆæœ

2. **å›¾ç‰‡å¤„ç†**ï¼š
   - æ”¯æŒå‹ç¼©å›¾ç‰‡è€Œéå®Œå…¨ç§»é™¤
   - é€‰æ‹©æ€§ä¿ç•™ï¼ˆå¦‚åªä¿ç•™æ ‡é¢˜å›¾ï¼‰
   - è½¬æ¢ä¸º Base64 åµŒå…¥

3. **ä¸»é¢˜ç³»ç»Ÿ**ï¼š
   - æ”¯æŒæ›´å¤šä¸»é¢˜å˜ä½“
   - è‡ªå®šä¹‰é¢œè‰²æ–¹æ¡ˆ
   - ä¸»é¢˜å¯¼å…¥/å¯¼å‡º

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š** 2025-10-21  
**æ„å»ºçŠ¶æ€ï¼š** âœ… æˆåŠŸ  
**æ‰€æœ‰åŠŸèƒ½çŠ¶æ€ï¼š** âœ… æ­£å¸¸  

