# Digest AI - 文件说明

本文档说明项目中每个文件的用途，帮助您快速了解项目结构。

## 📂 项目结构概览

```
digest-ai-extension/
├── 📄 核心文件（扩展功能）
├── 📁 scripts/（脚本目录）
├── 📁 styles/（样式目录）
├── 📁 icons/（图标目录）
├── 📋 配置文件
└── 📚 文档文件
```

---

## 📄 核心扩展文件

### HTML 文件（用户界面）

#### `popup.html`
- **作用**: 点击扩展图标时的弹出窗口界面
- **功能**: 
  - 保存文章入口
  - 显示处理状态
  - 快速添加标签
  - 跳转到设置和阅读库
- **尺寸**: 380x400 像素
- **相关**: popup.js, styles/popup.css

#### `dashboard.html`
- **作用**: 阅读库主界面（全屏标签页）
- **功能**:
  - 文章列表展示
  - 搜索和筛选
  - 文章详情阅读
  - 标签管理
  - 删除文章
- **布局**: 左侧列表 + 右侧内容
- **相关**: dashboard.js, styles/dashboard.css

#### `settings.html`
- **作用**: 设置页面（全屏标签页）
- **功能**:
  - 选择 AI 模型
  - 配置 API Key
  - 基本设置（主题、字体）
  - 查看关于信息
- **布局**: 侧边栏 + 主内容区
- **相关**: settings.js, styles/settings.css

### JavaScript 文件（交互逻辑）

#### `popup.js`
- **作用**: Popup 界面的交互逻辑
- **功能**:
  - 状态管理（5种状态）
  - 保存文章流程
  - 标签快速添加
  - 与 background.js 通信
- **代码行数**: ~250 行

#### `dashboard.js`
- **作用**: 阅读库的交互逻辑
- **功能**:
  - 加载和渲染文章列表
  - 搜索和筛选实现
  - 文章详情展示
  - 标签管理（添加/删除）
  - 文章删除
- **代码行数**: ~450 行

#### `settings.js`
- **作用**: 设置页面的交互逻辑
- **功能**:
  - 加载和保存设置
  - AI 模型切换
  - API Key 管理
  - 测试连接功能
  - 动态帮助信息
- **代码行数**: ~200 行

---

## 📁 scripts/ 目录

### `background.js`
- **作用**: 后台服务工作进程（Service Worker）
- **功能**:
  - 消息路由中心
  - 调用 AI API
  - 管理本地存储
  - 处理文章保存完整流程
  - 扩展生命周期管理
- **重要性**: ⭐⭐⭐⭐⭐ (核心)
- **代码行数**: ~250 行

### `content.js`
- **作用**: 内容脚本（注入到网页）
- **功能**:
  - 提取网页文章内容
  - 使用 Readability 算法
  - 备用提取方法
  - 清理和格式化内容
- **注入**: 所有网页（<all_urls>）
- **代码行数**: ~200 行

### `readability-loader.js`
- **作用**: Readability 库加载器
- **状态**: ⚠️ 当前是简化版占位符
- **TODO**: 需要集成完整的 @mozilla/readability
- **代码行数**: ~60 行

### 📁 scripts/models/ 目录（AI 适配器）

#### `adapter.js`
- **作用**: AI 模型适配器基类
- **功能**:
  - 定义通用接口
  - 提供默认实现
  - JSON 提取工具
- **模式**: 抽象类
- **代码行数**: ~100 行

#### `gemini.js`
- **作用**: Google Gemini API 适配器
- **模型**: gemini-pro
- **端点**: `https://generativelanguage.googleapis.com/v1beta/...`
- **特点**: 免费额度，推荐用于开发
- **代码行数**: ~120 行

#### `openai.js`
- **作用**: OpenAI GPT API 适配器
- **模型**: gpt-3.5-turbo
- **端点**: `https://api.openai.com/v1/chat/completions`
- **特点**: 付费使用，质量高
- **代码行数**: ~100 行

#### `deepseek.js`
- **作用**: DeepSeek API 适配器
- **模型**: deepseek-chat
- **端点**: `https://api.deepseek.com/v1/chat/completions`
- **特点**: 价格低，性能好
- **代码行数**: ~110 行

---

## 📁 styles/ 目录

### `popup.css`
- **作用**: Popup 弹出窗口样式
- **特点**:
  - 渐变色背景
  - 加载动画
  - 多状态样式
  - 标签组件样式
- **代码行数**: ~415 行

### `dashboard.css`
- **作用**: 阅读库界面样式
- **特点**:
  - 双栏布局
  - 三段式内容区
  - 自定义滚动条
  - 卡片式设计
- **代码行数**: ~458 行

### `settings.css`
- **作用**: 设置页面样式
- **特点**:
  - 侧边栏导航
  - 表单样式
  - 模态框样式
  - 响应式设计
- **代码行数**: ~338 行

---

## 📁 icons/ 目录

### `README.md`
- **作用**: 图标文件说明
- **内容**: 如何创建和放置图标

### ⚠️ 需要添加的图标文件

- `icon16.png` - 16x16 像素（浏览器工具栏）
- `icon48.png` - 48x48 像素（扩展管理页面）
- `icon128.png` - 128x128 像素（Chrome Web Store）

**参考**: `创建临时图标.md`

---

## 📋 配置文件

### `manifest.json`
- **作用**: Chrome 扩展配置文件
- **版本**: Manifest V3
- **内容**:
  - 扩展基本信息
  - 权限声明
  - 脚本配置
  - 图标路径
- **重要性**: ⭐⭐⭐⭐⭐

### `package.json`
- **作用**: Node.js 项目配置
- **内容**:
  - 项目元信息
  - 依赖包列表
  - 构建脚本
- **依赖**: webpack, @mozilla/readability

### `webpack.config.js`
- **作用**: Webpack 构建配置
- **功能**:
  - 打包 JS 文件
  - 复制 HTML/CSS/资源
  - 输出到 dist/ 目录
- **模式**: development / production

### `.gitignore`
- **作用**: Git 忽略文件配置
- **忽略**: node_modules/, dist/, *.log

### `LICENSE`
- **作用**: 开源许可证
- **类型**: MIT License
- **权限**: 可自由使用、修改、分发

---

## 📚 文档文件

### 用户文档

#### `README.md` ⭐ 主文档
- **作用**: 项目主说明文档
- **内容**:
  - 项目介绍
  - 功能特性
  - 技术架构
  - 快速开始
  - 开发路线图
  - 开发日志
- **长度**: 415 行
- **重要性**: ⭐⭐⭐⭐⭐

#### `快速开始.md` 🚀 入门必读
- **作用**: 5分钟快速启动指南
- **内容**:
  - 安装步骤
  - 获取 API Key
  - 配置说明
  - 常见问题
- **受众**: 新用户
- **推荐**: 第一个阅读的文档

#### `使用指南.md` 📖 详细手册
- **作用**: 完整的使用说明
- **内容**:
  - 详细安装步骤
  - API Key 获取指南
  - 完整功能说明
  - 故障排查
  - 开发模式说明
- **受众**: 所有用户

### 开发文档

#### `开发笔记.md` 🔧 技术文档
- **作用**: 开发技术说明
- **内容**:
  - 项目结构详解
  - 技术要点
  - 数据流说明
  - 已知限制
  - 优化计划
- **受众**: 开发者

#### `TODO.md` ✅ 任务清单
- **作用**: 待办事项列表
- **内容**:
  - 紧急任务
  - 高/中/低优先级
  - 已知 Bug
  - 已完成项
- **受众**: 开发者

### 辅助文档

#### `创建临时图标.md`
- **作用**: 图标制作指南
- **方法**: 5种创建图标的方法
- **受众**: 所有开发者

#### `项目总结.md` 📊 项目全貌
- **作用**: 项目完整总结
- **内容**:
  - 项目概述
  - 完成情况
  - 代码统计
  - 设计亮点
  - 下一步计划
- **受众**: 所有人

#### `项目完成报告.md` 📋 完成报告
- **作用**: 详细的完成情况报告
- **内容**:
  - 执行摘要
  - 详细清单
  - 质量指标
  - 下一步行动
- **受众**: 项目管理者

#### `文件说明.md` 📂 本文件
- **作用**: 解释每个文件的用途
- **受众**: 所有人

#### `项目开发文档：Digest AI - 您的 AI 摘要阅读助手.md`
- **作用**: 原始需求文档
- **来源**: 项目规划阶段
- **内容**: 完整的功能需求和技术规划
- **重要性**: ⭐⭐⭐⭐⭐

---

## 📁 构建输出（生成的）

### `dist/` 目录
- **作用**: Webpack 构建输出目录
- **生成**: 运行 `npm run build` 后创建
- **内容**: 可加载到 Chrome 的扩展程序文件
- **注意**: 不提交到 Git（在 .gitignore 中）

### `node_modules/` 目录
- **作用**: npm 依赖包目录
- **生成**: 运行 `npm install` 后创建
- **大小**: ~100MB
- **注意**: 不提交到 Git（在 .gitignore 中）

---

## 🎯 文件阅读顺序建议

### 新用户（想快速使用）
1. `快速开始.md` - 5分钟入门
2. `使用指南.md` - 详细使用说明
3. `创建临时图标.md` - 创建图标
4. `README.md` - 了解项目全貌

### 开发者（想了解代码）
1. `README.md` - 项目概览
2. `项目开发文档.md` - 需求和规划
3. `开发笔记.md` - 技术细节
4. `文件说明.md`（本文件） - 文件结构
5. 查看源代码

### 项目管理者
1. `项目完成报告.md` - 完成情况
2. `项目总结.md` - 项目全貌
3. `TODO.md` - 任务清单
4. `README.md` - 项目文档

---

## 🔍 快速查找

### 想要...
- **开始使用** → `快速开始.md`
- **了解功能** → `README.md` 核心功能章节
- **配置 API** → `使用指南.md` 首次配置
- **排查问题** → `使用指南.md` 常见问题
- **了解架构** → `开发笔记.md` 项目结构
- **查看任务** → `TODO.md`
- **创建图标** → `创建临时图标.md`
- **了解进度** → `项目完成报告.md`

---

**最后更新**: 2025-10-21  
**文档维护**: 随项目更新而更新

