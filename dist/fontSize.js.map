{"version":3,"file":"fontSize.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://digest-ai-extension/./scripts/fontSize.js"],"sourcesContent":["/**\r\n * 字体大小管理模块\r\n * 处理阅读库的字体大小调整\r\n */\r\n\r\n// 字体大小配置\r\nconst FONT_SIZES = {\r\n  small: {\r\n    '--font-base': '14px',\r\n    '--font-title': '28px',\r\n    '--font-content': '15px',\r\n    '--line-height-base': '1.6',\r\n    '--line-height-content': '1.7'\r\n  },\r\n  medium: {\r\n    '--font-base': '16px',\r\n    '--font-title': '32px',\r\n    '--font-content': '16px',\r\n    '--line-height-base': '1.6',\r\n    '--line-height-content': '1.8'\r\n  },\r\n  large: {\r\n    '--font-base': '18px',\r\n    '--font-title': '36px',\r\n    '--font-content': '18px',\r\n    '--line-height-base': '1.7',\r\n    '--line-height-content': '1.9'\r\n  }\r\n};\r\n\r\n/**\r\n * 应用字体大小样式（不保存到 storage）\r\n */\r\nfunction applyFontSizeStyles(size) {\r\n  const sizeConfig = FONT_SIZES[size] || FONT_SIZES.medium;\r\n  \r\n  // 应用 CSS 变量\r\n  const root = document.documentElement;\r\n  Object.entries(sizeConfig).forEach(([key, value]) => {\r\n    root.style.setProperty(key, value);\r\n  });\r\n  \r\n  // 添加字体大小类到 body\r\n  document.body.classList.remove('font-small', 'font-medium', 'font-large');\r\n  document.body.classList.add(`font-${size}`);\r\n}\r\n\r\n/**\r\n * 应用字体大小并保存\r\n */\r\nasync function applyFontSize(size, saveToStorage = true) {\r\n  applyFontSizeStyles(size);\r\n  \r\n  // 保存字体大小设置（可选）\r\n  if (saveToStorage) {\r\n    try {\r\n      await chrome.storage.local.set({ fontSize: size });\r\n    } catch (error) {\r\n      console.error('保存字体大小设置失败:', error);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 加载并应用保存的字体大小\r\n */\r\nasync function loadSavedFontSize() {\r\n  try {\r\n    const { fontSize } = await chrome.storage.local.get(['fontSize']);\r\n    const savedSize = fontSize || 'medium';\r\n    await applyFontSize(savedSize);\r\n  } catch (error) {\r\n    console.error('加载字体大小失败:', error);\r\n    await applyFontSize('medium'); // 使用默认大小\r\n  }\r\n}\r\n\r\n// 导出函数\r\nif (typeof window !== 'undefined') {\r\n  window.applyFontSize = applyFontSize;\r\n  window.applyFontSizeStyles = applyFontSizeStyles;\r\n  window.loadSavedFontSize = loadSavedFontSize;\r\n}\r\n\r\n"],"names":[],"sourceRoot":""}