{"version":3,"file":"notification.js","mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://digest-ai-extension/./scripts/notification.js"],"sourcesContent":["/**\r\n * 通知管理模块\r\n * 提供友好的用户反馈\r\n */\r\n\r\n// 通知类型\r\nconst NotificationType = {\r\n  SUCCESS: 'success',\r\n  ERROR: 'error',\r\n  WARNING: 'warning',\r\n  INFO: 'info'\r\n};\r\n\r\n// 通知容器\r\nlet notificationContainer = null;\r\n\r\n/**\r\n * 初始化通知容器\r\n */\r\nfunction initNotificationContainer() {\r\n  if (notificationContainer) {\r\n    return;\r\n  }\r\n  \r\n  notificationContainer = document.createElement('div');\r\n  notificationContainer.id = 'notification-container';\r\n  notificationContainer.className = 'notification-container';\r\n  document.body.appendChild(notificationContainer);\r\n}\r\n\r\n/**\r\n * 显示通知\r\n */\r\nfunction showNotification(message, type = NotificationType.INFO, duration = 3000) {\r\n  initNotificationContainer();\r\n  \r\n  const notification = document.createElement('div');\r\n  notification.className = `notification notification-${type}`;\r\n  \r\n  // 图标\r\n  const icon = getIconForType(type);\r\n  \r\n  notification.innerHTML = `\r\n    <div class=\"notification-icon\">${icon}</div>\r\n    <div class=\"notification-content\">\r\n      <div class=\"notification-message\">${escapeHtml(message)}</div>\r\n    </div>\r\n    <button class=\"notification-close\">×</button>\r\n  `;\r\n  \r\n  // 添加到容器\r\n  notificationContainer.appendChild(notification);\r\n  \r\n  // 动画进入\r\n  setTimeout(() => {\r\n    notification.classList.add('show');\r\n  }, 10);\r\n  \r\n  // 关闭按钮\r\n  const closeBtn = notification.querySelector('.notification-close');\r\n  closeBtn.addEventListener('click', () => {\r\n    closeNotification(notification);\r\n  });\r\n  \r\n  // 自动关闭\r\n  if (duration > 0) {\r\n    setTimeout(() => {\r\n      closeNotification(notification);\r\n    }, duration);\r\n  }\r\n  \r\n  return notification;\r\n}\r\n\r\n/**\r\n * 关闭通知\r\n */\r\nfunction closeNotification(notification) {\r\n  notification.classList.remove('show');\r\n  notification.classList.add('hide');\r\n  \r\n  setTimeout(() => {\r\n    if (notification.parentElement) {\r\n      notification.parentElement.removeChild(notification);\r\n    }\r\n  }, 300);\r\n}\r\n\r\n/**\r\n * 获取类型对应的图标\r\n */\r\nfunction getIconForType(type) {\r\n  const icons = {\r\n    [NotificationType.SUCCESS]: '✅',\r\n    [NotificationType.ERROR]: '❌',\r\n    [NotificationType.WARNING]: '⚠️',\r\n    [NotificationType.INFO]: 'ℹ️'\r\n  };\r\n  return icons[type] || icons[NotificationType.INFO];\r\n}\r\n\r\n/**\r\n * 转义 HTML\r\n */\r\nfunction escapeHtml(text) {\r\n  const div = document.createElement('div');\r\n  div.textContent = text;\r\n  return div.innerHTML;\r\n}\r\n\r\n/**\r\n * 便捷方法\r\n */\r\nfunction showSuccess(message, duration) {\r\n  return showNotification(message, NotificationType.SUCCESS, duration);\r\n}\r\n\r\nfunction showError(message, duration) {\r\n  return showNotification(message, NotificationType.ERROR, duration || 5000);\r\n}\r\n\r\nfunction showWarning(message, duration) {\r\n  return showNotification(message, NotificationType.WARNING, duration);\r\n}\r\n\r\nfunction showInfo(message, duration) {\r\n  return showNotification(message, NotificationType.INFO, duration);\r\n}\r\n\r\n/**\r\n * 显示加载提示\r\n */\r\nfunction showLoading(message) {\r\n  initNotificationContainer();\r\n  \r\n  const loading = document.createElement('div');\r\n  loading.className = 'notification notification-loading';\r\n  loading.innerHTML = `\r\n    <div class=\"notification-icon\">\r\n      <div class=\"loading-spinner\"></div>\r\n    </div>\r\n    <div class=\"notification-content\">\r\n      <div class=\"notification-message\">${escapeHtml(message)}</div>\r\n    </div>\r\n  `;\r\n  \r\n  notificationContainer.appendChild(loading);\r\n  \r\n  setTimeout(() => {\r\n    loading.classList.add('show');\r\n  }, 10);\r\n  \r\n  // 返回关闭函数\r\n  return () => closeNotification(loading);\r\n}\r\n\r\n// 导出函数\r\nif (typeof window !== 'undefined') {\r\n  window.showNotification = showNotification;\r\n  window.showSuccess = showSuccess;\r\n  window.showError = showError;\r\n  window.showWarning = showWarning;\r\n  window.showInfo = showInfo;\r\n  window.showLoading = showLoading;\r\n  window.NotificationType = NotificationType;\r\n}\r\n\r\n// CSS 样式（动态注入）\r\nconst notificationStyles = `\r\n<style>\r\n.notification-container {\r\n  position: fixed;\r\n  top: 20px;\r\n  right: 20px;\r\n  z-index: 10000;\r\n  pointer-events: none;\r\n}\r\n\r\n.notification {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  padding: 14px 16px;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n  margin-bottom: 10px;\r\n  min-width: 300px;\r\n  max-width: 400px;\r\n  opacity: 0;\r\n  transform: translateX(400px);\r\n  transition: all 0.3s ease;\r\n  pointer-events: auto;\r\n}\r\n\r\n.notification.show {\r\n  opacity: 1;\r\n  transform: translateX(0);\r\n}\r\n\r\n.notification.hide {\r\n  opacity: 0;\r\n  transform: translateX(400px);\r\n}\r\n\r\n.notification-icon {\r\n  font-size: 20px;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.notification-content {\r\n  flex: 1;\r\n}\r\n\r\n.notification-message {\r\n  font-size: 14px;\r\n  color: #333;\r\n  line-height: 1.5;\r\n}\r\n\r\n.notification-close {\r\n  background: none;\r\n  border: none;\r\n  font-size: 20px;\r\n  color: #999;\r\n  cursor: pointer;\r\n  padding: 0;\r\n  width: 24px;\r\n  height: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  transition: background 0.2s;\r\n}\r\n\r\n.notification-close:hover {\r\n  background: #f0f0f0;\r\n}\r\n\r\n.notification-success {\r\n  border-left: 4px solid #10b981;\r\n}\r\n\r\n.notification-error {\r\n  border-left: 4px solid #ef4444;\r\n}\r\n\r\n.notification-warning {\r\n  border-left: 4px solid #f59e0b;\r\n}\r\n\r\n.notification-info {\r\n  border-left: 4px solid #3b82f6;\r\n}\r\n\r\n.notification-loading {\r\n  border-left: 4px solid #667eea;\r\n}\r\n\r\n.loading-spinner {\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 3px solid #f3f3f3;\r\n  border-top: 3px solid #667eea;\r\n  border-radius: 50%;\r\n  animation: spin 1s linear infinite;\r\n}\r\n\r\n@keyframes spin {\r\n  0% { transform: rotate(0deg); }\r\n  100% { transform: rotate(360deg); }\r\n}\r\n</style>\r\n`;\r\n\r\n// 注入样式\r\nif (typeof document !== 'undefined' && !document.getElementById('notification-styles')) {\r\n  const styleElement = document.createElement('div');\r\n  styleElement.id = 'notification-styles';\r\n  styleElement.innerHTML = notificationStyles;\r\n  document.head.appendChild(styleElement);\r\n}\r\n\r\n"],"names":[],"sourceRoot":""}